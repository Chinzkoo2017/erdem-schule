<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advent Manager (Teacher View) ‚Äì Erdem Schule</title>

  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .font-fredoka { font-family: "Fredoka One", sans-serif; }
    /* –¶–∞—Å –æ—Ä–æ—Ö —ç—Ñ—Ñ–µ–∫—Ç */
    @keyframes fall {
      0% { transform: translateY(-10px) rotate(0deg); opacity: 0.8; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>

<body class="bg-slate-900 text-slate-50 min-h-screen font-sans">

<header class="border-b border-purple-800 bg-slate-950/95 backdrop-blur sticky top-0 z-40">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <div class="flex items-center gap-4">
      <a href="classroom.html" class="flex items-center gap-2 text-slate-300 hover:text-white transition text-sm font-bold bg-slate-800 px-3 py-2 rounded-full">
        <i class="fa-solid fa-arrow-left"></i> –ë—É—Ü–∞—Ö
      </a>
      <div class="h-6 w-px bg-slate-700"></div>
      <div>
        <span class="font-fredoka text-xl tracking-wide text-purple-400">
          ADVENT MANAGER
        </span>
        <span class="block text-[10px] uppercase tracking-[0.15em] text-slate-400">
          Teacher Preview Mode üîì
        </span>
      </div>
    </div>

    <button id="langToggle" class="px-3 py-1 rounded-full border border-slate-600 text-xs hover:bg-slate-700 transition">
      DE
    </button>
  </div>
</header>

<main class="max-w-6xl mx-auto px-4 py-8 space-y-8">

  <section class="mb-10 relative overflow-hidden rounded-3xl bg-gradient-to-br from-purple-900 to-slate-900 p-6 shadow-2xl border border-purple-500/30">
    
    <div class="absolute top-0 left-0 w-full h-full pointer-events-none opacity-30" id="snow-container"></div>
  
    <div class="relative z-10 text-center mb-8">
      <span class="inline-block py-1 px-3 rounded-full bg-purple-600/20 text-purple-300 text-xs font-bold tracking-widest border border-purple-500 mb-2">
        TEACHER VIEW
      </span>
      <h2 class="font-fredoka text-3xl md:text-5xl text-white mb-2 drop-shadow-lg">
        –ë—ç–ª–≥“Ø“Ø–¥–∏–π–≥ —à–∞–ª–≥–∞—Ö
      </h2>
      <p class="text-slate-300 text-sm md:text-base max-w-2xl mx-auto">
        –≠–Ω–¥ –±“Ø—Ö ”©–¥—Ä–∏–π–Ω —Ü–æ–Ω—Ö –Ω—ç—ç–ª—Ç—Ç—ç–π —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞. –¢–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –∑”©–≤ –æ—Ä—Å–æ–Ω —ç—Å—ç—Ö–∏–π–≥ –¥–∞—Ä–∂ —à–∞–ª–≥–∞–∞—Ä–∞–π.
      </p>
    </div>
  
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 max-w-5xl mx-auto" id="advent-grid">
      </div>
  
    <div id="gift-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
      <div class="bg-white rounded-3xl p-6 md:p-10 max-w-2xl w-full text-center relative overflow-hidden shadow-2xl transform transition-all scale-100 border-4 border-purple-500">
        
        <button onclick="closeGift()" class="absolute top-4 right-4 text-slate-400 hover:text-purple-500 transition text-2xl z-50">
          <i class="fa-solid fa-xmark"></i>
        </button>
  
        <div class="mb-4 text-6xl animate-bounce">üéÅ</div>
        
        <h3 class="font-fredoka text-2xl text-purple-700 mb-4" id="modal-date-title">Day X</h3>
        
        <div class="text-slate-700 text-lg leading-relaxed mb-6 max-h-[60vh] overflow-y-auto" id="modal-content">
          </div>
  
        <button onclick="closeGift()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-full transition shadow-lg">
          –•–∞–∞—Ö (Close)
        </button>
      </div>
    </div>
  </section>

</main>

<script>
  // 1. –û–†–ß–£–£–õ–ì–´–ù “Æ–ì–° (–ë–∞–≥–∞ –∑—ç—Ä—ç–≥ —Ç–æ–≤—á–∏–ª—Å–æ–Ω)
  const words = {
    mn: {
      month_dec: "12-—Ä —Å–∞—Ä—ã–Ω",
      video_label: "üé• –ë–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç",
      gift_empty: "–•–æ–æ—Å–æ–Ω –±–∞–π–Ω–∞ (–≠–Ω—ç ”©–¥”©—Ä –¥–∞—Ç–∞ –æ—Ä–æ–æ–≥“Ø–π –±–∞–π–Ω–∞)."
    },
    de: {
      month_dec: "Dezember",
      video_label: "üé• Gru√üwort des Lehrers",
      gift_empty: "Leer (Keine Daten f√ºr diesen Tag)."
    }
  };

  // 2. –ë–≠–õ–ì–ò–ô–ù –°–ê–ù (classroom.html-—ç—ç—Å —Ö—É—É–ª—Å–∞–Ω)
  // –¢–ê–ô–õ–ë–ê–†: "VIDEO_ID_HERE"-–≥ –∂–∏–Ω—Ö—ç–Ω—ç ID-–≥–∞–∞—Ä —Å–æ–ª–∏—Ö–æ–æ –º–∞—Ä—Ç—É—É–∑–∞–π.
  const adventGifts = [
    { day: 1, type: 'text', content: { mn: "‚ùÑÔ∏è –≠—Ö–Ω–∏–π ”©–¥—Ä–∏–π–Ω –º—ç–Ω–¥! ”®–Ω”©”©–¥”©—Ä –∞–Ω–≥–∏–π–Ω—Ö–∞–∞ –Ω–∞–π–∑–¥–∞–∞ —É—Ä–º—ã–Ω “Ø–≥ —Ö—ç–ª—ç—ç—Ä—ç–π.", de: "‚ùÑÔ∏è Willkommen! Mache heute einem Klassenkameraden ein Kompliment." } },
    { day: 2, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–°—É—Ä–≥—É—É–ª–∏–π–Ω –∑–∞—Ö–∏—Ä–ª—ã–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Schulleiters" } },
    { day: 3, type: 'text', content: { mn: "üß© –û–Ω—å—Å–æ–≥–æ: –ì–∞—Ä–≥“Ø–π —Ö”©–ª—Ç—ç–π –º”©—Ä—Ç–ª”©”©, –¶–æ–Ω—Ö —Ö–∞–∞–ª–≥–∞ —Ç–æ–≥—à–¥–æ–≥ —Ç—ç—Ä —é—É –≤—ç? (–•–∞—Ä–∏—É: –°–∞–ª—Ö–∏)", de: "üß© R√§tsel: Was hat keine H√§nde und F√º√üe, klopft aber an Fenster und T√ºren? (Der Wind)" } },
    { day: 4, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–ú–æ–Ω–≥–æ–ª —Ö—ç–ª–Ω–∏–π –±–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Mongolischlehrers" } },
    { day: 5, type: 'text', content: { mn: "üìú –ó“Ø–π—Ä —Ü—ç—Ü—ç–Ω “Ø–≥: –≠—Ä–¥—ç–º—Ç—ç–π —Ö“Ø–Ω –¥–∞—Ä—É—É, –ò—Ö –º”©—Ä”©–Ω –¥”©–ª–≥”©”©–Ω.", de: "üìú Sprichwort: Ein gebildeter Mensch ist bescheiden, wie ein gro√üer Fluss ruhig ist." } },
    { day: 6, type: 'image', url: "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDdtY3J6Ynd4Ynd4Ynd4/3o6fJdYXew7C8qbMLC/giphy.gif", content: { mn: "üéÖ –ì—ç–≥—ç—ç–Ω –ù–∏–∫–æ–ª–∞—É—Å—ã–Ω –±–∞—è—Ä—ã–Ω –º—ç–Ω–¥!", de: "üéÖ Alles Gute zum Nikolaustag!" } },
    { day: 7, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–î—É—É —Ö”©–≥–∂–º–∏–π–Ω –±–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Musiklehrers" } },
    { day: 8, type: 'text', content: { mn: "üßê –°–æ–Ω–∏—Ä—Ö–æ–ª—Ç–æ–π –±–∞—Ä–∏–º—Ç: –¶–∞—Å–∞–Ω —à–∏—Ä—Ö—ç–≥ –±“Ø—Ä –¥–∞—Ö–∏–Ω –¥–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π —Ö—ç–ª–±—ç—Ä—Ç—ç–π –±–∞–π–¥–∞–≥.", de: "üßê Fun Fact: Jede Schneeflocke hat eine einzigartige Form." } },
    { day: 9, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–ë–∞–≥–∞ –∞–Ω–≥–∏–π–Ω –±–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Grundschullehrers" } },
    { day: 10, type: 'text', content: { mn: "üé® –î–∞–∞–ª–≥–∞–≤–∞—Ä: ”®–Ω”©”©–¥”©—Ä —Ü–∞–∞—Å–∞–∞—Ä —Ü–∞—Å–∞–Ω —à–∏—Ä—Ö—ç–≥ —Ö–∞–π—á–∏–ª–∂ —Ü–æ–Ω—Ö–æ–æ —á–∏–º—ç–≥–ª—ç—ç—Ä—ç–π!", de: "üé® Aufgabe: Schneide heute Schneeflocken aus Papier und dekoriere dein Fenster!" } },
    { day: 11, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–ú–æ–Ω–≥–æ–ª –±“Ø–∂–≥–∏–π–Ω –±–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Tanzlehrers" } },
    { day: 12, type: 'image', url: "https://images.unsplash.com/photo-1543589077-47d81606c1bf?auto=format&fit=crop&w=600&q=80", content: { mn: "üê¥ –ú–æ–Ω–≥–æ–ª ”©–≤ —Å–æ—ë–ª: ”®–≤–ª–∏–π–Ω –∏–¥—ç—à –±—ç–ª—Ç–≥—ç—Ö —É–ª–∞–º–∂–ª–∞–ª.", de: "üê¥ Mongolische Kultur: Tradition der Wintervorr√§te." } },
    { day: 13, type: 'text', content: { mn: "üé∂ –î—É—É —Å—É—Ä—Ü–≥–∞–∞—è: '–¶–∞—Å–∞–Ω, —Ü–∞—Å–∞–Ω, —Ü–∞—Å–∞–Ω –æ—Ö–∏–Ω...'", de: "üé∂ Lass uns ein Lied lernen: 'Schneefl√∂ckchen, Wei√ür√∂ckchen...'" } },
    { day: 14, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–ê—Ö–ª–∞—Ö –∞–Ω–≥–∏–π–Ω –±–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Oberstufenlehrers" } },
    { day: 15, type: 'text', content: { mn: "üß© –û–Ω—å—Å–æ–≥–æ: –¶–∞–≥–∞–∞–Ω —Ö”©–Ω–∂–∏–ª–¥”©”©, –Ω–æ–≥–æ–æ–Ω –¥—ç—ç–ª—Ç—ç–π. –¢—ç—Ä —é—É –≤—ç? (–ì–∞—Ü—É—É—Ä –º–æ–¥)", de: "üß© R√§tsel: Gr√ºner Mantel im wei√üen Bett. Was ist das? (Der Tannenbaum)" } },
    { day: 16, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–≠—Ü—ç–≥ —ç—Ö–∏–π–Ω –∑”©–≤–ª”©–ª–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Elternbeirats" } },
    { day: 17, type: 'image', url: "https://images.unsplash.com/photo-1482517967863-00e15c9b4499?auto=format&fit=crop&w=600&q=80", content: { mn: "üç™ ”®–Ω”©”©–¥”©—Ä —ç—ç–∂—Ç—ç–π–≥—ç—ç —Ö–∞–º—Ç –∂–∏–≥–Ω—ç–º—ç–≥ —Ö–∏–π–≥—ç—ç—Ä—ç–π!", de: "üç™ Backe heute Pl√§tzchen mit deiner Mama!" } },
    { day: 18, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–¢“Ø“Ø—Ö–∏–π–Ω –±–∞–≥—à–∏–π–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort des Geschichtslehrers" } },
    { day: 19, type: 'text', content: { mn: "üí° –ú—ç–¥–ª—ç–≥: –ú–æ–Ω–≥–æ–ª–¥ ”©–≤–ª–∏–π–Ω —Ö–∞–º–≥–∏–π–Ω —Ö“Ø–π—Ç—ç–Ω “Ø–µ–∏–π–≥ '–ï—Å —ç—Ö–ª—ç—Ö' –≥—ç–∂ –Ω—ç—Ä–ª—ç–¥—ç–≥.", de: "üí° Wissen: Die k√§lteste Zeit im mongolischen Winter nennt man die 'Neun Neun'." } },
    { day: 20, type: 'text', content: { mn: "‚úçÔ∏è –î–∞–∞–ª–≥–∞–≤–∞—Ä: ”®–≤–ª–∏–π–Ω ”©–≤”©”©–¥ –∑–∞—Ö–∏–¥–∞–ª –±–∏—á—ç—ç—Ä—ç–π!", de: "‚úçÔ∏è Aufgabe: Schreibe einen Brief an den Weihnachtsmann!" } },
    { day: 21, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–°—É—Ä–≥—É—É–ª–∏–π–Ω –∞–∂–∏–ª—Ç–Ω—ã –º—ç–Ω–¥—á–∏–ª–≥—ç—ç", de: "Gru√üwort der Schulmitarbeiter" } },
    { day: 22, type: 'text', content: { mn: "‚ù§Ô∏è –°–∞–π—Ö–∞–Ω —Å—ç—Ç–≥—ç–ª: ”®–Ω”©”©–¥”©—Ä —Ö—ç–Ω –Ω—ç–≥—ç–Ω–¥ —Ç—É—Å–ª–∞–∞—Ä–∞–π.", de: "‚ù§Ô∏è Gute Tat: Hilf heute jemandem." } },
    { day: 23, type: 'video', url: "VIDEO_ID_HERE", content: { mn: "–ë–∞–≥—à –Ω–∞—Ä—ã–Ω —Ö–∞–º—Ç–∞—Ä—Å–∞–Ω –º—ç–Ω–¥—á–∏–ª–≥—ç—ç!", de: "Gemeinsamer Gru√ü der Lehrer!" } },
    { day: 24, type: 'image', url: "https://media.giphy.com/media/zhh9ivpOs0vtKc3Q0i/giphy.gif", content: { mn: "üéÑ –ó–£–õ –°–ê–†–´–ù –ë–ê–Ø–†–´–ù –ú–≠–ù–î! üéÅ<br>–≠—Ä–¥—ç–º —Å—É—Ä–≥—É—É–ª–∏–π–Ω —Ö–∞–º—Ç –æ–ª–Ω–æ–æ—Å.", de: "üéÑ FROHE WEIHNACHTEN! üéÅ<br>Vom Team der Erdem Schule." } }
  ];

  let current = "mn";

  // –•—ç–ª —Å–æ–ª–∏—Ö
  function applyLang() {
    document.getElementById("langToggle").textContent = current === "mn" ? "DE" : "MN";
  }

  document.getElementById("langToggle").onclick = () => {
    current = current === "mn" ? "de" : "mn";
    applyLang();
  };

  // ==================== MANAGER CALENDAR LOGIC ====================
  // –≠–Ω—ç —Ö—ç—Å—ç–≥—Ç –û–ì–ù–û–û –®–ê–õ–ì–ê–•–ì“Æ–ô. –ë“Ø—Ö ”©–¥”©—Ä –Ω—ç—ç–ª—Ç—Ç—ç–π.
  
  const gridContainer = document.getElementById('advent-grid');

  function initCalendar() {
    if(!gridContainer) return;
    gridContainer.innerHTML = "";

    for (let i = 1; i <= 24; i++) {
      // –ë“Ø—Ö ”©–¥”©—Ä "–ù—ç—ç–ª—Ç—Ç—ç–π" –∑–∞–≥–≤–∞—Ä—Ç–∞–π (Purple theme for admin)
      const statusClass = "bg-purple-900/40 border-purple-500/50 text-purple-300 cursor-pointer hover:bg-purple-800/60 hover:scale-105 shadow-lg shadow-purple-900/20";
      const icon = "üëÅÔ∏è"; // Preview icon

      const box = document.createElement('div');
      box.className = `relative h-24 rounded-2xl border-2 flex flex-col items-center justify-center font-fredoka text-xl transition-transform transform ${statusClass}`;
      
      // –ó”©–≤—Ö”©–Ω –∞–¥–º–∏–Ω–¥: –•—ç—Ä—ç–≤ –¥–∞—Ç–∞ —Ö–æ–æ—Å–æ–Ω –±–æ–ª –∞–Ω—Ö–∞–∞—Ä—É—É–ª–≥–∞ ”©–≥”©—Ö
      const gift = adventGifts.find(g => g.day === i);
      const hasContent = gift && (gift.content || gift.url);
      const statusDot = hasContent ? '<span class="absolute top-2 right-2 h-2 w-2 rounded-full bg-green-500"></span>' : '<span class="absolute top-2 right-2 h-2 w-2 rounded-full bg-red-500 animate-pulse"></span>';

      box.innerHTML = `
        ${statusDot}
        <span class="z-10 text-2xl mb-1">${i}</span>
        <span class="text-[10px] uppercase tracking-wider opacity-80">Open</span>
      `;

      // –®—É—É–¥ –Ω—ç—ç—Ö —Ñ—É–Ω–∫—Ü –¥—É—É–¥–Ω–∞
      box.onclick = () => openGift(i);
      gridContainer.appendChild(box);
    }
  }
  
  function openGift(day) {
    const gift = adventGifts.find(g => g.day === day);
    const modal = document.getElementById('gift-modal');
    const contentDiv = document.getElementById('modal-content');
    const titleDiv = document.getElementById('modal-date-title');
    
    const monthText = words[current].month_dec;
    titleDiv.innerText = current === 'mn' ? `Preview: ${monthText} ${day}` : `Preview: ${day}. ${monthText}`;

    if (gift) {
      if (gift.type === 'image') {
        const txt = gift.content ? gift.content[current] : "";
        contentDiv.innerHTML = `
          <img src="${gift.url}" class="rounded-xl mx-auto mb-3 w-full max-h-56 object-cover shadow-md"> 
          <p class="font-bold text-purple-600">${txt}</p>`;
      } 
      else if (gift.type === 'video') {
        const txt = gift.content ? gift.content[current] : "";
        const label = words[current].video_label;
        const embedUrl = `https://www.youtube.com/embed/${gift.url}`;
        
        contentDiv.innerHTML = `
          <div class="text-sm font-bold text-purple-500 mb-2 uppercase tracking-widest">${label}</div>
          <div class="aspect-video w-full rounded-xl overflow-hidden shadow-lg mb-3 bg-black">
             <iframe width="100%" height="100%" src="${embedUrl}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <p class="text-slate-800 font-medium">${txt}</p>
        `;
      }
      else {
        contentDiv.innerHTML = gift.content[current];
      }
    } else {
      contentDiv.innerHTML = `<span class="text-red-500 font-bold">${words[current].gift_empty}</span>`;
    }

    modal.classList.remove('hidden');
  }

  function closeGift() {
    document.getElementById('gift-modal').classList.add('hidden');
  }

  function createSnow() {
    const container = document.getElementById('snow-container');
    if(!container) return;
    const snowflakeCount = 20; 

    for (let i = 0; i < snowflakeCount; i++) {
        const snowflake = document.createElement('div');
        snowflake.innerHTML = '‚ùÑ';
        snowflake.classList.add('absolute', 'text-white', 'opacity-50');
        snowflake.style.left = Math.random() * 100 + '%';
        snowflake.style.animation = `fall ${Math.random() * 5 + 5}s linear infinite`; // –£–¥–∞–∞–Ω —É–Ω–∞—Ö
        snowflake.style.fontSize = Math.random() * 10 + 5 + 'px';
        snowflake.style.animationDelay = Math.random() * 5 + 's';
        container.appendChild(snowflake);
    }
  }

  // Init
  initCalendar();
  createSnow();
  applyLang();
</script>

</body>
</html>